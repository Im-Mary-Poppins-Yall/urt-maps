(this["webpackJsonpurt-maps"]=this["webpackJsonpurt-maps"]||[]).push([[0],{58:function(e,t,n){},65:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(19),a=n.n(r),i=(n(58),n(11)),o=n(25),l=n(41),j=(n(65),n(91)),u=n(2);function b(e){var t=e.map,n=e.cb,c=t.screenShots,s="ss/".concat(t._id,"/");return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("button",{className:"bare-button-main",onClick:function(){return n(t,c[0])},children:Object(u.jsx)("img",{className:"main-ss",src:s+c[0],alt:"main screenshot"})}),Object(u.jsxs)("span",{children:[Object(u.jsx)("button",{className:"bare-button-sub bare-button-sub-left",onClick:function(){return n(t,c[1])},children:Object(u.jsx)("img",{className:"sub-ss",src:s+c[1],alt:"screenshot 2"})}),Object(u.jsx)("button",{className:"bare-button-sub bare-button-sub-right",onClick:function(){return n(t,c[2])},children:Object(u.jsx)("img",{className:"sub-ss",src:s+c[2],alt:"screenshot 3"})})]}),Object(u.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(u.jsx)(j.a,{item:!0,xs:2,children:"\xa0"}),Object(u.jsx)(j.a,{item:!0,xs:8,children:Object(u.jsx)("h2",{id:"title",children:t._id})}),Object(u.jsx)(j.a,{item:!0,xs:2,children:c.length>3?Object(u.jsx)("button",{className:"more-button",onClick:function(){return n(t,c[3])},title:"more screenshots",children:"+more screenshots"}):null})]})]})})}var d=n(94),h=n(92);function O(e){var t=e.visibleTagsList,n=e.clickedTagsList,c=e.callBackFunc;return!t||t.length<0||!c?Object(u.jsx)("div",{children:"Making tags..."}):Object(u.jsx)("div",{style:{paddingLeft:".2rem"},children:t.map((function(e){var t=Object(i.a)(e,2),s=t[0],r=t[1],a=n&&!n.has(s);return Object(u.jsx)(d.a,{variant:a&&r>1?"outlined":"contained",color:a?"default":"primary",size:"small",onClick:function(){return c(s)},style:{marginRight:"5px",marginBottom:"5px",paddingBottom:"1px"},children:Object(u.jsxs)(h.a,{badgeContent:r,color:"primary",children:[s," \xa0"]})},s+"_button")}))})}n(71);var m=n(95),f=n(97),g=n(96);function x(e){var t=e.updateViewCB,n="IS connected",s=Object(c.useState)("is NOT connected"),r=Object(i.a)(s,2),a=r[0],j=r[1],d=Object(c.useRef)([]),x=Object(c.useRef)([]),p=Object(c.useState)([]),v=Object(i.a)(p,2),y=v[0],k=v[1],S=Object(c.useState)([]),w=Object(i.a)(S,2),C=w[0],E=w[1],N=Object(c.useState)(new Set),R=Object(i.a)(N,2),T=R[0],B=R[1],_=Object(c.useState)(""),M=Object(i.a)(_,2),A=M[0],F=M[1];function L(e,n){t(e,n)}return Object(c.useEffect)((function(){if(x.current.length<1){j("is connecting..."),d.current=new l.a({id:"urt-maps-realmapp-xjuqv"});try{d.current.logIn(l.b.anonymous()).then((function(e){e.functions.getAllMapData().then((function(e){x.current=e.result,B(new Set),j(n)}))}))}catch(e){console.error("Failed to log in to db",e),j("DB ERROR")}}}),[]),Object(c.useEffect)((function(){var e=[];!T||T.size<1?x&&x.current&&(e=x.current):e=x.current.filter((function(e){var t=!0;return T.forEach((function(n){t&=e.featureTags.includes(n)})),t?e:null})),e.sort((function(e,t){return e._id<t._id?-1:e._id>t._id?1:0})),k(e);var t=new Map;e.forEach((function(e){e.featureTags.forEach((function(e){var n=t.get(e);n?n+=1:n=1,t.set(e,n)}))})),E(Object(o.a)(t).sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0})))}),[T]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("h1",{children:Object(u.jsx)(h.a,{badgeContent:"db "+a+" | "+(y?y.length:"0")+(y&&1===y.length?" map visible":" maps visible"),color:a===n?"secondary":"error",children:"URT MAP FINDER"})})}),Object(u.jsx)("div",{id:"search-bar",children:Object(u.jsx)(m.a,{placeholder:"start typing map keywords here, separated by commas",id:"search-box",inputProps:{"aria-label":"naked"},startAdornment:Object(u.jsx)(f.a,{position:"start",children:Object(u.jsx)(g.a,{})}),value:A,onChange:function(e){F(e.target.value)},fullWidth:!0})}),Object(u.jsxs)("div",{style:{paddingLeft:".5em"},children:["Realtime test, showing your ",Object(u.jsx)("em",{children:"typed text or clicked tag:"}),"\xa0 ",A.toString()]}),Object(u.jsx)("h2",{style:{paddingLeft:"1rem"},children:Object(u.jsx)(h.a,{badgeContent:C.length+" visible",color:"secondary",children:"Map feature tags"})}),Object(u.jsx)(O,{visibleTagsList:C,clickedTagsList:T,callBackFunc:function(e){var t=new Set(T);t.has(e)?t.delete(e):t.add(e),B(t),F(Object(o.a)(t).toString())}}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{id:"card-list",children:y.length>0?y.map((function(e){return Object(u.jsx)(b,{map:e,cb:L},e._id)})):"loading maps..."})]})}var p=function(e){var t=e.map,n=e.ssClicked;if(!t||!n)return Object(u.jsx)("p",{children:"EMPTY PARAMETERS PASSED"});var c="ss/".concat(t._id,"/");return Object(u.jsx)("div",{style:{height:"fitContent(100)"},children:Object(u.jsx)("div",{style:{minWidth:"100%",maxHeight:"80%"},children:Object(u.jsx)("img",{src:c+n,alt:"screenshot "+n})})})},v=n(93);function y(){var e=Object(c.useState)(1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(),a=Object(i.a)(r,2),o=a[0],l=a[1],j=Object(c.useState)(),b=Object(i.a)(j,2),d=b[0],h=b[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v.a,{}),1===n?Object(u.jsx)(x,{updateViewCB:function(e,t){l(e),h(t),s(2)}}):Object(u.jsx)(p,{map:o,ssClicked:d})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.7741b7f3.chunk.js.map