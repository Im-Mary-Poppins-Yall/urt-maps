This file is a simple copy/paste of the functions hosted on Realm, for open source transparency.

// getAllMapData()
// note that this function has to be set for application authentication and non-private in Realm function settings
exports = function(){
  var coll = context.services.get("mongodb-atlas").db("urt-maps").collection("maps");
  var result = coll.find();
  return {result};
};

// getMap(map_id)
var result = coll.find({'_id': map_id });

// searchMaps(keywords)
var result = coll.find({$or: [
  {_id: /keywords/ },
  {pk3: /keywords/ }
]});

// ===== REFERENCES =====
// Mongodb actions: https://docs.mongodb.com/realm/mongodb/actions/#std-label-mongodb-actions
// SQL to MongoDB: https://docs.mongodb.com/manual/reference/sql-comparison/

